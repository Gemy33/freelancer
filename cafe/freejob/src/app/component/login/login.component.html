<section class="width my-4 ">

   <app-authheader></app-authheader>
    <!-- <div class="w-100 mb-4">
        <img src="./assets/image/Computer login-bro 1.png" alt="Gifty-login">
    </div> -->
    <form [formGroup]="loginForm" (ngSubmit)="OnSubmit()" >
        <input type="text" [readOnly]="onsendrequest()" formControlName="emailOrUserName" placeholder="اسم المستخدم او البريد اإللكتروني" class="form-control emailInput">
        @if(loginForm.get("emailOrUserName")?.errors &&loginForm.get("emailOrUserName")?.touched ){
            @if(loginForm.get("emailOrUserName")?.getError("required")){

                <p class="bg-danger-subtle m-0 rounded-2 mt-1 py-1">يجب ادخال الايميل او اسم المستخدم</p>
            }
            @else if (loginForm.get("emailOrUserName")?.errors) {
                <p class="bg-danger-subtle m-0 rounded-2 mt-1 py-1">يجب ادخال الايميل او اسم المستخدم بشكل صحيح</p>

            }
        }
        <input type="text" [readOnly]="onsendrequest()" formControlName="password" placeholder="كلمة المرور" class="form-control passwordInput mt-3">
        @if(loginForm.get("password")?.errors &&loginForm.get("password")?.touched){
            @if(loginForm.get("password")?.getError("required")){

                <p class="bg-danger-subtle m-0 rounded-2 mt-1 py-1">يجب ادخال كلمه المرور</p>
            }
            @else if (loginForm.get("password")?.getError("minlength") ) {
                <p class="bg-danger-subtle m-0 rounded-2 mt-1 py-1">الحد الادني 5 خانات</p>

            }
            @else if (loginForm.get("password")?.getError("maxlength") ) {
                <p class="bg-danger-subtle m-0 rounded-2 mt-1 py-1">الحد الاقصي 25 خانات</p>

            }
            
        }
        <p class="text-color text-end mt-2 pointer" routerLink="/forgetpassword" >هل نسيت كلمة السر؟</p>
        <button [disabled]="loginForm.invalid"  class="w-75 my-2 m-auto text-white border-0 rounded-2 py-2 btn-color">تسجيل الدخول 
            @if(spinner()){

                <i class="fa-solid fa-spinner fa-spin"></i>
            } 
        </button>
    </form>

    @if (iserror()) {
    <p class="w-100 m-0 alert alert-danger">{{error()}}</p>
    }
   

    <div class="my-2">
        <img src="../../../assets/image/Google.png " class="ms-2 icon-width" alt="google">
        <img src="../../../assets/image/Facebook.png " class="icon-width" alt="facebook">
    </div>
    <p class="m-0  pcolor almarai-light">
        من خلال التسجيل عبر  Google أو Facebook، سيتم تسجيلك تلقائيًا في Giftly وستؤكد موافقتك على الشروط والأحكام وسياسة الخصوصية الخاصة بنا.
    </p>


</section>
<app-fixed-info></app-fixed-info>